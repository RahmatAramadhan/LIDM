<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="aframe-open-page-iframe.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <script
        src="https://unpkg.com/aframe-environment-component@1.3.0/dist/aframe-environment-component.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@1.0.0/dist/aframe-look-at-component.min.js"></script>
    <title>GAYATAMA</title>
  </head>
  <body>
    <a-scene>
        <a-assets>
            <img id="hotspot" src="icons8-next-page-48.png"/>
            <a-asset-item id="classMenu" src="/assets/lowpoly_stylized_classroom/scene.gltf" ></a-asset-item>
        </a-assets>

        
        <a-camera id="camera" camera position="-2 9 -15">
            <a-entity
              cursor="fuse: true; fuseTimeout: 2000"
              raycaster="objects: .clickable"
              position="0 0 -1"
              geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
              material="color: black; shader: flat"
              animation__fusing="property: scale; from: 1 1 1; to: 0.1 0.1 0.1; startEvents: fusing;"
              animation__reset="property: scale; to: 1 1 1; startEvents: mouseleave; dur: 300"
            ></a-entity>
        </a-camera>

      <a-entity gltf-model="#classMenu" position="-0.3 0.2 -3" rotation="0 180 0"></a-entity>
      <a-scene>

        <a-image id="gibran" src="/assets/FotoPresWaPres/gibran.jpeg" position="-2 15.2 -26" width="2" height="2.4" rotation="0 0 0" ></a-image>
        <a-image id="garuda" src="/assets/FotoPresWaPres/garuda.png" position="-5 15.3 -26" width="2.5" height="2.5" rotation="0 0 0"></a-image>
        <a-image id="prabowo" src="/assets/FotoPresWaPres/prabowo.jpeg" position="-8 15.2 -26" width="2.05" height="2.45" rotation="0 0 0" ></a-image>

        <a-image id="unesa" src="/assets/Papan/unesa.png" position="-1.5 12.5 -30" width="1" height="1" rotation="0 0 0" animation="property: position; to: -1.5 12.5 -26; dur: 1500; easing: easeInOutQuad"></a-image>
        <a-image id="merdeka" src="/assets/Papan/merdeka_belajar.png" position="-4.5 12.5 -30" width="6" height="1.5" rotation="0 0 0" animation="property: position; to: -4.5 12.5 -26; dur: 1500; easing: easeInOutQuad"></a-image>
        <a-image id="gayatama" src="/assets/Papan/gayatama.png" position="1.2 12.6 -30" width="4" height="1" rotation="0 0 0" animation="property: position; to: 1.2 12.6 -26; dur: 1500; easing: easeInOutQuad"></a-image>

        <a-entity id="panels" position="-10.2 10 -26">
            <!-- Objek a-plane dengan transisi masuk -->
            <a-plane position="0 0 -5" width="6" height="6" material="src:/assets/Papan/EKOSISTEM.png;" class="clickable" light="intensity: 0.2"
              animation__scaleUp="startEvents:mouseenter; property: scale; to: 1.2 1.2 1.2; dur: 250;"
              animation__scaleDown="startEvents:mouseleave; property: scale; to: 1 1 1; dur: 250;"
              animation="property: position; to: 0 0 0; dur: 1500; easing: easeInOutQuad"
              animation__fade="property: opacity; from: 0; to: 1; dur: 500"
              onclick="moveCamera()">
            </a-plane>
        </a-entity>


        <script>
            // Fungsi untuk menggerakkan kamera saat a-plane diklik
            function moveCamera() {
              // Animasi kamera menuju a-plane
              document.querySelector('#camera').setAttribute('animation', {
                property: 'position',
                to: '-8 10 -25.5',
                dur: 1500,
                easing: 'easeInOutQuad'
              });
        
              // Setelah animasi selesai, alihkan ke halaman lain
              setTimeout(function() {
                window.location.href = 'ekosistem1.html';
              }, 1500);  // Menunggu animasi selesai (1.5 detik)
            }
        
            // Reset posisi kamera ke posisi awal saat halaman dimuat
            window.onload = function() {
              document.querySelector('#camera').setAttribute('position', '-2 9 -16');
            };
          </script>
    </a-scene>
  </body>
</html>
