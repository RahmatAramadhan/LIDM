<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
        <script src="aframe-open-page-iframe.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
        <script
            src="https://unpkg.com/aframe-environment-component@1.3.0/dist/aframe-environment-component.min.js"></script>
        <script src="https://unpkg.com/aframe-look-at-component@1.0.0/dist/aframe-look-at-component.min.js"></script>
        <title>GAYATAMA</title>
      </head>
<body>
    <a-scene renderer="pixelRatio: 2">
        <a-assets>
            <img id="point1" src="/assets/ekosistem1.webp"/> 
            <audio id="bgMusic" src="/assets/suara_alam.mp3"></audio>
        </a-assets>
        
        <!-- <a-sound src="#bgMusic" autoplay="true" loop="true" volume="1"></a-sound> -->

        <a-sky id="skybox" src="#point1" rotation="0 -90 0" material="mipmap: true;"
        rotation="0 45 0"
        event-set__mouseenter="_event: mouseenter; animation: property: scale; to: 1.05 1.05 1.05; dur: 300; easing: easeOutElastic"
         event-set__mouseleave="_event: mouseleave; animation: property: scale; to: 1 1 1; dur: 300; easing: easeOutElastic">
        </a-sky>

        <!-- LIGHT 2 -->
        <a-light type="directional" color="#FFFF" intensity="3" position="0 50 40" rotation="20 120 80"></a-light>



        <!-- LIGHT 3 -->

            </a-plane>
        <!-- CAMERA -->
        <a-camera id="camera" camera position="0 0 0">
            <a-entity
              cursor="fuse: true; fuseTimeout: 2000"
              raycaster="objects: .clickable"
              position="0 0 -1"
              geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
              material="color: black; shader: flat"
              animation__fusing="property: scale; from: 1 1 1; to: 0.1 0.1 0.1; startEvents: fusing;"
              animation__reset="property: scale; to: 1 1 1; startEvents: mouseleave; dur: 300"
            ></a-entity>
        </a-camera>

        <!-- OBJEK -->

        <a-entity id="panels" position="-11 2 -10" rotation="0 45 0" >
            <!-- Objek a-plane dengan transisi masuk -->
            <a-plane position="0 0 -5" width="6" height="6" material="src:/assets/Papan/EKOSISTEM.png;" class="clickable" light="intensity: 0.2"
              animation__scaleUp="startEvents:mouseenter; property: scale; to: 1.2 1.2 1.2; dur: 250;"
              animation__scaleDown="startEvents:mouseleave; property: scale; to: 1 1 1; dur: 250;"
              animation="property: position; to: 0 0 0; dur: 1500; easing: easeInOutQuad"
              animation__fade="property: opacity; from: 0; to: 1; dur: 500"
              onclick="moveCamera('-11 2 -9', 'index.html')">
            </a-plane>
        </a-entity>
        <a-entity id="panels" position="-4 2 -12.5" rotation="0 0 0">
            <!-- Objek a-plane dengan transisi masuk -->
            <a-plane position="0 0 -5" width="6" height="6" material="src:/assets/Papan/EKOSISTEM.png;" class="clickable" light="intensity: 0.2"
              animation__scaleUp="startEvents:mouseenter; property: scale; to: 1.2 1.2 1.2; dur: 250;"
              animation__scaleDown="startEvents:mouseleave; property: scale; to: 1 1 1; dur: 250;"
              animation="property: position; to: 0 0 0; dur: 1500; easing: easeInOutQuad"
              animation__fade="property: opacity; from: 0; to: 1; dur: 500"
              onclick="moveCamera('-8 2 -9', 'EkosistemDetail.html')">
            </a-plane>
        </a-entity>

        <a-entity id="panels" position="4 2 -12.5" rotation="0 0 0">
            <!-- Objek a-plane dengan transisi masuk -->
            <a-plane position="0 0 -5" width="6" height="6" material="src:/assets/Papan/EKOSISTEM.png;" class="clickable" light="intensity: 0.2"
              animation__scaleUp="startEvents:mouseenter; property: scale; to: 1.2 1.2 1.2; dur: 250;"
              animation__scaleDown="startEvents:mouseleave; property: scale; to: 1 1 1; dur: 250;"
              animation="property: position; to: 0 0 0; dur: 1500; easing: easeInOutQuad"
              animation__fade="property: opacity; from: 0; to: 1; dur: 500"
              onclick="moveCamera('0 2 -11', 'RantaiMakanan.html')">
            </a-plane>
        </a-entity>


        <a-entity id="panels" position="11 2 -10" rotation="0 -45 0" >
            <!-- Objek a-plane dengan transisi masuk -->
            <a-plane position="0 0 -5" width="6" height="6" material="src:/assets/Papan/EKOSISTEM.png;" class="clickable" light="intensity: 0.2"
              animation__scaleUp="startEvents:mouseenter; property: scale; to: 1.2 1.2 1.2; dur: 250;"
              animation__scaleDown="startEvents:mouseleave; property: scale; to: 1 1 1; dur: 250;"
              animation="property: position; to: 0 0 0; dur: 1500; easing: easeInOutQuad"
              animation__fade="property: opacity; from: 0; to: 1; dur: 500"
              onclick="moveCamera('8 2 -9', 'InteraksiAM.html')">
            </a-plane>
        </a-entity>

        





        </a-scene>

        </body>

        </html>

    <!-- Untuk Panels Ekosistem -->
    <script>
        // Fungsi untuk menggerakkan kamera dengan input parameter 'to' dan 'targetPage'
        function moveCamera(toPosition, targetPage) {
            // Animasi kamera menuju a-plane dengan posisi yang ditentukan
            document.querySelector('#camera').setAttribute('animation', {
                property: 'position',
                to: toPosition,
                dur: 1500,
                easing: 'easeInOutQuad'
            });
    
            // Setelah animasi selesai, alihkan ke halaman yang ditentukan
            setTimeout(function() {
                window.location.href = targetPage;
            }, 1500);  // Menunggu animasi selesai (1.5 detik)
        }
    
        // Reset posisi kamera ke posisi awal saat halaman dimuat
        window.onload = function() {
            document.querySelector('#camera').setAttribute('position', '0 0 0');
        };
    </script>
    

          

   

        
 
        